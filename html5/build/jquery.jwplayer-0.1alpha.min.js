(function(i){i.fn.jwplayerControlbar=function(r){return this.each(function(){var v=i(this)[0].id;var u=i("#"+v).parents()[0].id;var t=document.getElementById(v);var s=i.extend({},i.fn.jwplayerControlbar.defaults,r);i.extend(s,t.getConfig());i.extend(s,{id:v,div:u,left:i("#"+u).position().left,top:i("#"+u).position().top,});i("#"+u).css("position","static");i("#"+u).css("z-index","98");i("#"+u).css("height",s.height);i("#"+u).css("width",s.width);i("#"+v).css("width","100%");i("#"+v).css("height","100%");i.fn.jwplayerControlbar.bars[v]={player:t,options:s,images:{}};a(i.fn.jwplayerControlbar.bars[v])})};i.fn.jwplayerControlbar.bars={};i.fn.jwplayerControlbar.defaults={buffer:0,div:"container",duration:0,elapsed:0,fontsize:10,fontcolor:"000000",fullscreen:false,id:"player",images:0,position:"bottom",skin:"../../skins/five/five.xml",width:400,height:300,left:0,leftmargin:0,top:0,rightmargin:0,scrubber:"none",state:"idle",volume:100};i.fn.jwplayerControlbar.bufferHandler=function(r){n({id:r.id,buffer:r.percentage})};i.fn.jwplayerControlbar.muteHandler=function(r){b({id:r.id,mute:r.state})};i.fn.jwplayerControlbar.stateHandler=function(r){m({id:r.id,state:r.newstate.toLowerCase()})};i.fn.jwplayerControlbar.timeHandler=function(r){d({id:r.id,elapsed:r.position,duration:r.duration})};i.fn.jwplayerControlbar.volumeHandler=function(r){l({id:r.id,volume:r.percentage})};function a(r){i.get(r.options.skin,{},function(t){var s=i("component",t);for(var u=0;u<s.length;u++){if(i(s[u]).attr("name")=="controlbar"){var v=i(s[u]).find("setting");s=i(s[u]).find("element");break}}for(var u=0;u<v.length;u++){r.options[i(v[u]).attr("name")]=i(v[u]).attr("value")}r.options.images=s.length;for(var u=0;u<s.length;u++){c(s[u],r)}})}function c(u,t){var r=new Image();var v=i(u).attr("name");var s=t.options.skin.substr(0,t.options.skin.lastIndexOf("/"))+"/controlbar/";i(r).error(function(){t.options.images--});i(r).load(function(){t.images[v]={height:this.height,width:this.width,src:this.src};t.options.images--;if(t.options.images==0){p(t);o(t)}});r.src=s+i(u).attr("src")}function p(r){i("#"+r.options.div).after('<div id="'+r.options.id+'_controlBar"></div>');i("#"+r.options.id+"_controlBar").css("position","absolute");i("#"+r.options.id+"_controlBar").css("height",r.images.background["height"]);i("#"+r.options.id+"_controlBar").css("background","url("+r.images.background.src+") repeat-x center left");q("capLeft","left",true,r);q("playButton","left",false,r);q("pauseButton","left",true,r);q("divider1","left",true,r);q("elapsedText","left",true,r);q("timeSliderRail","left",false,r);q("timeSliderBuffer","left",false,r);q("timeSliderProgress","left",false,r);q("timeSliderThumb","left",false,r);q("capRight","right",true,r);q("fullscreenButton","right",false,r);q("normalscreenButton","right",true,r);q("divider2","right",true,r);q("volumeSliderRail","right",false,r);q("volumeSliderProgress","right",true,r);q("muteButton","right",false,r);q("unmuteButton","right",true,r);q("divider3","right",true,r);q("durationText","right",true,r)}function q(s,w,v,r){var u=r.options.id+"_"+s;i("#"+r.options.id+"_controlBar").append('<div id="'+u+'"></div>');i("#"+u).css("position","absolute");i("#"+u).css("top",0);if(s.indexOf("Text")>0){i("#"+u).html("00:00");i("#"+u).css("font",r.options.fontsize+"px/"+(r.images.background.height+1)+"px Arial,sans-serif");i("#"+u).css("text-align","center");i("#"+u).css("font-weight","bold");i("#"+u).css("cursor","default");var t=14+3*r.options.fontsize;i("#"+u).css("color","#"+r.options.fontcolor.substr(-6))}else{if(s.indexOf("divider")==0){i("#"+u).css("background","url("+r.images.divider.src+") repeat-x center left");var t=r.images.divider.width}else{i("#"+u).css("background","url("+r.images[s].src+") repeat-x center left");var t=r.images[s].width}}if(w=="left"){i("#"+u).css(w,r.options.leftmargin);if(v){r.options.leftmargin+=t}}else{if(w=="right"){i("#"+u).css(w,r.options.rightmargin);if(v){r.options.rightmargin+=t}}}i("#"+u).css("width",t);i("#"+u).css("height",r.images.background.height)}function o(r){k("playButton","play",r.player,r.options);k("pauseButton","play",r.player,r.options);k("muteButton","mute",r.player,r.options);k("unmuteButton","mute",r.player,r.options);k("fullscreenButton","fullscreen",r.player,r.options);k("normalscreenButton","fullscreen",r.player,r.options);r.player.addModelListener("buffer","jQuery.fn.jwplayerControlbar.bufferHandler");r.player.addModelListener("state","jQuery.fn.jwplayerControlbar.stateHandler");r.player.addModelListener("time","jQuery.fn.jwplayerControlbar.timeHandler");r.player.addControllerListener("mute","jQuery.fn.jwplayerControlbar.muteHandler");r.player.addControllerListener("volume","jQuery.fn.jwplayerControlbar.volumeHandler");h(r.options);b(r.options);m(r.options);l(r.options)}function k(t,u,s,r){var v=r.id+"_"+t;i("#"+v).css("cursor","pointer");if(u=="fullscreen"){i("#"+v).mouseup(function(w){w.stopPropagation();r.fullscreen=!r.fullscreen;h(r)})}else{i("#"+v).mouseup(function(w){w.stopPropagation();s.sendEvent(u)})}}function e(){var r="#"+config.id+"_controlBar";var s="#"+config.id+"_timeSliderRail";var t="#"+config.id+"_volumeSliderRail";i(r).css("cursor","hand");i(r).mousedown(function(u){var v=u.pageX-i(r).position().left;if(v>i(s).position().left&&v<i(s).position().left+i(s).width()){config.scrubber="time"}else{if(v>i(t).position().left&&v<i(t).position().left+i(t).width()){config.scrubber="volume"}}});i(r).mouseup(function(u){u.stopPropagation();j(u.pageX)});i(r).mouseleave(function(u){j(u.pageX);u.stopPropagation()});i(r).mousemove(function(u){if(config.scrubber=="time"){var v=u.pageX-i(r).position().left;i("#"+config.id+"_timeSliderThumb").css("left",v)}})}function j(u){if(config.scrubber=="time"){var t=u-i("#"+config.id+"_timeSliderRail").position().left;var x=i("#"+config.id+"_timeSliderRail").width();var y=t/x*config.duration;if(y<0){y=0}else{if(y>config.duration){y=config.duration-3}}player.sendEvent("seek",y)}else{if(config.scrubber=="volume"){var v=i("#"+config.id+"_controlBar").width();var r=i("#"+config.id+"_controlBar").position().left;var s=i("#"+config.id+"_volumeSliderRail").css("right").substr(0,2);var x=config.images.volumeSliderRail.width;var w=Math.round((u-v-r+1*s+x)/x*100);if(w<0){w=0}else{if(w>100){w=100}}player.sendEvent("volume",w)}}config.scrubber="none"}function n(r){if(r.buffer==0){i("#"+r.id+"_timeSliderBuffer").css("display","none")}else{i("#"+r.id+"_timeSliderBuffer").css("display","block");var s=i("#"+r.id+"_timeSliderRail").width();i("#"+r.id+"_timeSliderBuffer").css("width",Math.round(s*r.buffer/100))}}function b(r){if(r.mute){i("#"+r.id+"_muteButton").css("display","none");i("#"+r.id+"_unmuteButton").css("display","block");i("#"+r.id+"_volumeSliderProgress").css("display","none")}else{i("#"+r.id+"_muteButton").css("display","block");i("#"+r.id+"_unmuteButton").css("display","none");i("#"+r.id+"_volumeSliderProgress").css("display","block")}}function m(r){if(r.state=="buffering"||r.state=="playing"){i("#"+r.id+"_pauseButton").css("display","block");i("#"+r.id+"_playButton").css("display","none")}else{i("#"+r.id+"_pauseButton").css("display","none");i("#"+r.id+"_playButton").css("display","block")}if(r.state=="completed"){r.elapsed=0;d(r)}}function d(r){var t=i("#"+r.id+"_timeSliderRail").width();var u=i("#"+r.id+"_timeSliderThumb").width();var s=i("#"+r.id+"_timeSliderRail").position().left;if(r.elapsed==0){i("#"+r.id+"_timeSliderProgress").css("display","none");i("#"+r.id+"_timeSliderThumb").css("display","none")}else{i("#"+r.id+"_timeSliderProgress").css("display","block");i("#"+r.id+"_timeSliderProgress").css("width",Math.round(t*r.elapsed/r.duration));i("#"+r.id+"_timeSliderThumb").css("display","block");i("#"+r.id+"_timeSliderThumb").css("left",s+Math.round((t-u)*r.elapsed/r.duration));i("#"+r.id+"_durationText").html(g(r.duration))}i("#"+r.id+"_elapsedText").html(g(r.elapsed))}function g(r){str="00:00";if(r>0){Math.floor(r/60)<10?str="0"+Math.floor(r/60)+":":str=Math.floor(r/60)+":";Math.floor(r%60)<10?str+="0"+Math.floor(r%60):str+=Math.floor(r%60)}return str}function h(r){if(r.fullscreen){i("#"+r.div).css("position","absolute");i("#"+r.div).css("left",0);i("#"+r.div).css("top",0);i("#"+r.div).css("height","100%");i("#"+r.div).css("width","100%");i("#"+r.id+"_normalscreenButton").css("display","block");i("#"+r.id+"_fullscreenButton").css("display","none");i(window).resize(function(){f(r)})}else{i("#"+r.div).css("position","static");i("#"+r.div).css("left",r.left);i("#"+r.div).css("top",r.top);i("#"+r.div).css("height",r.height);i("#"+r.div).css("width",r.width);i("#"+r.id+"_normalscreenButton").css("display","none");i("#"+r.id+"_fullscreenButton").css("display","block");i(window).resize(null)}f(r);d(r);n(r)}function f(r){var t=r.left;var u=r.top+r.height;var s=r.width;var v=i("#"+r.id+"_controlBar").height();if(r.position=="over"){t+=1*r.margin;u-=1*r.margin+v;s-=2*r.margin}if(r.fullscreen){t=r.margin;u=i(window).height()-r.margin-v;s=i(window).width()-2*r.margin;i("#"+r.id+"_controlBar").css("z-index",99)}else{i("#"+r.id+"_controlBar").css("z-index",97)}i("#"+r.id+"_controlBar").css("left",t);i("#"+r.id+"_controlBar").css("top",u);i("#"+r.id+"_controlBar").css("width",s);i("#"+r.id+"_timeSliderRail").css("width",s-r.leftmargin-r.rightmargin)}function l(t){var r=i("#"+t.id+"_volumeSliderRail").width();var u=Math.round(t.volume/100*r);var s=i("#"+t.id+"_volumeSliderRail").css("right").substr(0,2);i("#"+t.id+"_volumeSliderProgress").css("width",u);i("#"+t.id+"_volumeSliderProgress").css("right",1*s+r-u)}})(jQuery);(function(b){b.fn.jwplayer=function(d){return this.each(function(){var e=b.fn.jwplayerUtilsParsersDOMElementParser.parse(this);alert(b.fn.jwplayerUtils.dump(e));var f=b.extend(true,{},b.fn.jwplayer.defaults,d,e);if(b.fn.jwplayerUtils.supportsFlash){b.fn.jwplayerView.embedFlash(this,f)}})};b.fn.jwplayer.players={};b.fn.jwplayer.defaults={autostart:false,buffer:0,duration:0,file:undefined,height:300,image:undefined,left:0,position:0,skin:"../../skins/five/five.xml",state:"idle",top:0,volume:100,width:400};b.fn.jwplayer.fullscreen=function(d,e){};b.fn.jwplayer.mute=function(d,e){};b.fn.jwplayer.pause=function(d,e){};b.fn.jwplayer.seek=function(e,d){};b.fn.jwplayer.stop=function(d){};b.fn.jwplayer.volume=function(e,d){};b.fn.jwplayer.addEventListener=function(d,e,f){};b.fn.jwplayer.removeEventListener=function(d,e,f){};function a(d){b.get(d.options.skin,{},function(f){var e=b("component",f);for(var g=0;g<e.length;g++){if(b(e[g]).attr("name")=="display"){var h=b(e[g]).find("setting");e=b(e[g]).find("element");break}}for(var g=0;g<h.length;g++){d.options[b(h[g]).attr("name")]=b(h[g]).attr("value")}d.options.images=e.length;for(var g=0;g<e.length;g++){c(e[g],d)}})}function c(g,f){var d=new Image();var h=b(g).attr("name");var e=f.options.skin.substr(0,f.options.skin.lastIndexOf("/"))+"/controlbar/";b(d).error(function(){f.options.images--});b(d).load(function(){f.images[h]={height:this.height,width:this.width,src:this.src};f.options.images--;if(f.options.images==0){buildElements(f);buildHandlers(f)}});d.src=e+b(g).attr("src")}b(document).ready(function(){b("video.jwplayer").jwplayer()})})(jQuery);(function(a){})(jQuery);(function(a){a.fn.jwplayerUtils=function(){return this.each(function(){})};a.fn.jwplayerUtils.supportsFlash=function(){var b="0,0,0,0";try{try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{d.AllowScriptAccess="always"}catch(g){b="6,0,0"}}catch(g){}b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(g){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){b=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(g){}}var c=parseInt(b.split(",")[0]);var f=parseInt(b.split(",")[2]);if(c>9||(c==9&&f>97)){return true}else{return false}};a.fn.jwplayerUtils.supportsH264=function(){try{return !!document.createElement("video").canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}catch(b){return false}};a.fn.jwplayerUtils.supportsOgg=function(){try{return !!document.createElement("video").canPlayType('video/ogg; codecs="theora, vorbis"')}catch(b){return false}};a.fn.jwplayerUtils.embedFlash=function(d,c){d=a(d);var b="";for(var e in c){if(c[e]!=undefined){b+=e+"="+c[e]+"&"}}if(a.browser.msie){d.replaceWith("<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' width='"+d.attr("width")+"' height='"+d.attr("height")+"' id='"+d.attr("id")+"' name='"+d.attr("name")+"' class='"+d.attr("class")+"'><param name='movie' value='src/jquery.jwplayer.swf'><param name='allowfullscreen' value='true'><param name='allowscriptaccess' value='always'><param name='wmode' value='transparent'><param name='flashvars' value='"+b+"file="+d.attr("src")+"&image="+d.attr("poster")+"'></object>")}else{d.replaceWith("<embed width='"+d.attr("width")+"' height='"+d.attr("height")+"' id='"+d.attr("id")+"' name='"+d.attr("name")+"' class='"+d.attr("class")+"' src='src/jquery.jwplayer.swf' allowfullscreen='true' allowscriptaccess='always' flashvars='"+b+"file="+d.attr("src")+"&image="+d.attr("poster")+"' />")}};a.fn.jwplayerUtils.dump=function(d,g){if(d==null){return"null"}else{if(a.fn.jwplayerUtils.typeOf(d)!="object"){if(a.fn.jwplayerUtils.typeOf(d)=="string"){return'"'+d+'"'}return d}}var f=a.fn.jwplayerUtils.typeOf(d);(g==undefined)?g=1:g++;var c="";for(var e=0;e<g;e++){c+="\t"}var b=(f=="array")?"[":"{";b+="\n"+c;for(var e in d){if(f=="object"){b+='"'+e+'": '}b+=a.fn.jwplayerUtils.dump(d[e],g)+",\n"+c}b=b.substring(0,b.length-2-g)+"\n";b+=c.substring(0,c.length-1);b+=(f=="array")?"]":"}";return b};a.fn.jwplayerUtils.typeOf=function(c){var b=typeof c;if(b==="object"){if(c){if(c instanceof Array){b="array"}}else{b="null"}}return b}})(jQuery);(function(a){a.fn.jwplayerUtilsParsers=function(){}})(jQuery);(function(a){a.fn.jwplayerUtilsParsersDOMElementParser={};a.fn.jwplayerUtilsParsersDOMElementParser.parsers={};a.fn.jwplayerUtilsParsersDOMElementParser.attributes={width:"width",height:"height",id:"id","class":"className",name:"name"};a.fn.jwplayerUtilsParsersDOMElementParser.parse=function(d,b){if(a.fn.jwplayerUtilsParsersDOMElementParser.parsers[d.tagName.toLowerCase()]&&(b==null)){return a.fn.jwplayerUtilsParsersDOMElementParser.parsers[d.tagName.toLowerCase()](d)}else{if(b==undefined){b=a.fn.jwplayerUtilsParsersDOMElementParser.attributes}else{a.merge(b,a.fn.jwplayerUtilsParsersDOMElementParser.attributes)}var e={};for(var c in b){e[b[c]]=a(d).attr(c)}return e}}})(jQuery);(function(a){a.fn.jwplayerUtilsParsersDOMmediaElementParser={};a.fn.jwplayerUtilsParsersDOMmediaElementParser.attributes={src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"};a.fn.jwplayerUtilsParsersDOMmediaElementParser.parse=function(d,b){if(b==undefined){b=a.fn.jwplayerUtilsParsersDOMmediaElementParser.attributes}else{a.merge(b,a.fn.jwplayerUtilsParsersDOMmediaElementParser.attributes)}var c=[];a("source",d).each(function(){c[c.length]=a.fn.jwplayerUtilsParsersDOMsourceElementParser.parse(d)});var e=a.fn.jwplayerUtilsParsersDOMElementParser.parse(d,b);e.sources=c;return e};a.fn.jwplayerUtilsParsersDOMElementParser.parsers.media=a.fn.jwplayerUtilsParsersDOMmediaElementParser.parse;a.fn.jwplayerUtilsParsersDOMElementParser.parsers.audio=a.fn.jwplayerUtilsParsersDOMmediaElementParser.parse})(jQuery);(function(a){a.fn.jwplayerUtilsParsersDOMsourceElementParser={};a.fn.jwplayerUtilsParsersDOMsourceElementParser.attributes={src:"file",type:"type",media:"media"};a.fn.jwplayerUtilsParsersDOMsourceElementParser.parse=function(c,b){if(b==undefined){b=a.fn.jwplayerUtilsParsersDOMsourceElementParser.attributes}else{a.merge(b,a.fn.jwplayerUtilsParsersDOMsourceElementParser.attributes)}return a.fn.jwplayerUtilsParsersDOMElementParser.parse(c,b)};a.fn.jwplayerUtilsParsersDOMElementParser.parsers.source=a.fn.jwplayerUtilsParsersDOMsourceElementParser.parse})(jQuery);(function(a){a.fn.jwplayerUtilsParsersDOMvideoElementParser={};a.fn.jwplayerUtilsParsersDOMvideoElementParser.attributes={poster:"image"};a.fn.jwplayerUtilsParsersDOMvideoElementParser.parse=function(c,b){if(b==undefined){b=a.fn.jwplayerUtilsParsersDOMvideoElementParser.attributes}else{a.merge(b,a.fn.jwplayerUtilsParsersDOMvideoElementParser.attributes)}return a.fn.jwplayerUtilsParsersDOMmediaElementParser.parse(c,b)};a.fn.jwplayerUtilsParsersDOMElementParser.parsers.video=a.fn.jwplayerUtilsParsersDOMvideoElementParser.parse})(jQuery);(function(a){a.fn.jwplayerView=function(){};a.fn.jwplayerView.embedFlash=function(c,b){alert(a.fn.jwplayerUtils.dump(b));if(a.browser.msie){a(c).replaceWith("<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' width='"+b.width+"' height='"+b.height+"' id='"+b.id+"' name='"+b.name+"' class='"+b.className+"'><param name='movie' value='src/jquery.jwplayer.swf'><param name='allowfullscreen' value='true'><param name='allowscriptaccess' value='always'><param name='wmode' value='transparent'><param name='flashvars' value='file="+b.src+"&image="+b.poster+"'></object>")}else{a(c).replaceWith("<embed width='"+b.width+"' height='"+b.height+"' id='"+b.id+"' name='"+b.name+"' class='"+b.className+"' src='src/jquery.jwplayer.swf' allowfullscreen='true' allowscriptaccess='always' flashvars='file="+b.src+"&image="+b.poster+"' />")}}})(jQuery);